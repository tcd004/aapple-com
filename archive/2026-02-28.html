<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>aapple.com â€” february 28</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #f5f0e8;
  font-family: Georgia, 'Times New Roman', serif;
  overflow: hidden;
  height: 100vh;
  transition: background 8s;
  cursor: crosshair;
}
#canvas { position: fixed; top: 0; left: 0; z-index: 1; }
#text-layer {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  z-index: 2; display: flex; align-items: center; justify-content: center;
  flex-direction: column; pointer-events: none;
}
#title {
  font-size: clamp(28px, 6vw, 72px);
  color: #2a1f0e;
  letter-spacing: 2px;
  transition: all 4s;
  text-align: center;
  padding: 20px;
}
#subtitle {
  font-size: clamp(11px, 2vw, 16px);
  color: #8a7a5a;
  margin-top: 12px;
  letter-spacing: 4px;
  text-transform: uppercase;
  transition: all 4s;
}
#timer {
  position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
  font-family: 'Courier New', monospace; font-size: 11px;
  color: #aaa; z-index: 3; letter-spacing: 2px;
}
.footer {
  position: fixed; bottom: 10px; left: 0; right: 0;
  text-align: center; z-index: 10; padding: 10px;
}
.footer a { color: #999; text-decoration: none; font-size: 11px; font-family: 'Courier New', monospace; }
.footer a:hover { color: #fff; }
.footer .credit {
  color: rgba(0,0,0,0.2); font-size: 9px;
  font-family: 'Courier New', monospace; margin-top: 4px;
}
.mold {
  position: fixed; border-radius: 50%;
  background: radial-gradient(circle, rgba(60,80,40,0.6), rgba(30,50,20,0.2), transparent);
  pointer-events: none; z-index: 1;
  animation: moldGrow 20s ease-out forwards;
}
@keyframes moldGrow {
  from { transform: scale(0); opacity: 0; }
  10% { opacity: 1; }
  to { transform: scale(1); opacity: 0.7; }
}
.fly {
  position: fixed; z-index: 4; font-size: 14px; pointer-events: none;
  animation: flyBuzz 3s ease-in-out infinite alternate;
}
@keyframes flyBuzz {
  0% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(8px, -12px) rotate(15deg); }
  50% { transform: translate(-5px, 6px) rotate(-10deg); }
  75% { transform: translate(12px, 4px) rotate(20deg); }
  100% { transform: translate(-3px, -8px) rotate(-5deg); }
}
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<div id="text-layer">
  <div id="title">Still Life with Apple</div>
  <div id="subtitle">observe the passage of time</div>
</div>
<div id="timer">00:00</div>
<div class="footer">
  <a href="/archive/">archive</a>
  <div class="credit">An experiment in AI creativity. New web experiences created each day by Claude.ai. No humans involved.</div>
</div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let W, H, startTime = Date.now(), elapsed = 0;

function resize() {
  W = canvas.width = innerWidth;
  H = canvas.height = innerHeight;
}
resize();
addEventListener('resize', resize);

// Draw the apple
const appleColor = { r: 180, g: 30, b: 30 };
const stemColor = '#4a3520';

function lerp(a, b, t) { return a + (b - a) * t; }

function drawApple(decay) {
  const cx = W / 2, cy = H / 2;
  const size = Math.min(W, H) * 0.18;

  // Apple body â€” decays from red to brown to grey-green
  const r = Math.round(lerp(180, 60 + Math.random() * decay * 5, decay));
  const g = Math.round(lerp(30, 70 + Math.random() * decay * 3, decay));
  const b = Math.round(lerp(30, 30, decay));

  ctx.save();

  // Bruise spots
  const bruiseCount = Math.floor(decay * 12);
  for (let i = 0; i < bruiseCount; i++) {
    const angle = (i / bruiseCount) * Math.PI * 2 + Math.sin(elapsed * 0.0001 + i);
    const dist = size * (0.3 + Math.random() * 0.5) * decay;
    const bx = cx + Math.cos(angle) * dist;
    const by = cy + Math.sin(angle) * dist * 0.9;
    const bsize = size * (0.08 + decay * 0.15) * (0.5 + Math.random() * 0.5);
    const grad = ctx.createRadialGradient(bx, by, 0, bx, by, bsize);
    grad.addColorStop(0, `rgba(40,30,10,${0.3 + decay * 0.5})`);
    grad.addColorStop(1, 'transparent');
    ctx.fillStyle = grad;
    ctx.beginPath();
    ctx.ellipse(bx, by, bsize, bsize * 0.8, 0, 0, Math.PI * 2);
    ctx.fill();
  }

  // Main apple shape
  ctx.globalCompositeOperation = 'destination-over';
  const bodyGrad = ctx.createRadialGradient(cx - size * 0.2, cy - size * 0.2, size * 0.1, cx, cy, size);
  bodyGrad.addColorStop(0, `rgb(${r + 40},${g + 20},${b + 10})`);
  bodyGrad.addColorStop(0.7, `rgb(${r},${g},${b})`);
  bodyGrad.addColorStop(1, `rgb(${Math.max(0, r - 40)},${Math.max(0, g - 10)},${b})`);
  ctx.fillStyle = bodyGrad;
  ctx.beginPath();
  // Apple shape via bezier
  ctx.moveTo(cx, cy - size);
  ctx.bezierCurveTo(cx + size * 1.2, cy - size, cx + size * 1.2, cy + size * 0.8, cx, cy + size);
  ctx.bezierCurveTo(cx - size * 1.2, cy + size * 0.8, cx - size * 1.2, cy - size, cx, cy - size);
  ctx.fill();

  // Stem
  ctx.globalCompositeOperation = 'source-over';
  ctx.strokeStyle = stemColor;
  ctx.lineWidth = 3;
  ctx.beginPath();
  ctx.moveTo(cx, cy - size);
  ctx.quadraticCurveTo(cx + 8, cy - size - 15, cx + 4, cy - size - 25 - decay * 5);
  ctx.stroke();

  // Leaf (withers with decay)
  if (decay < 0.8) {
    const leafOpacity = 1 - decay * 1.2;
    ctx.fillStyle = `rgba(${80 - decay * 60},${120 - decay * 80},30,${Math.max(0, leafOpacity)})`;
    ctx.beginPath();
    ctx.ellipse(cx + 14, cy - size - 18, 12 * (1 - decay * 0.5), 5, 0.5, 0, Math.PI * 2);
    ctx.fill();
  }

  // Wrinkles at high decay
  if (decay > 0.4) {
    ctx.globalCompositeOperation = 'source-over';
    const wrinkleCount = Math.floor((decay - 0.4) * 20);
    for (let i = 0; i < wrinkleCount; i++) {
      const angle = (i / wrinkleCount) * Math.PI * 2;
      const wr = size * (0.5 + Math.random() * 0.4);
      ctx.strokeStyle = `rgba(30,20,10,${(decay - 0.4) * 0.4})`;
      ctx.lineWidth = 0.5;
      ctx.beginPath();
      const wx = cx + Math.cos(angle) * wr * 0.3;
      const wy = cy + Math.sin(angle) * wr * 0.3;
      ctx.moveTo(wx, wy);
      ctx.lineTo(wx + Math.cos(angle) * wr * 0.4, wy + Math.sin(angle) * wr * 0.35);
      ctx.stroke();
    }
  }

  ctx.restore();

  // Collapse at very high decay
  if (decay > 0.85) {
    const squish = (decay - 0.85) * 6;
    canvas.style.transform = `scaleY(${1 - squish * 0.1}) translateY(${squish * 8}px)`;
  }
}

// Mold spots on the page
function spawnMold() {
  if (elapsed < 15000) return;
  const div = document.createElement('div');
  div.className = 'mold';
  const size = 40 + Math.random() * 200;
  div.style.width = div.style.height = size + 'px';
  div.style.left = (Math.random() * innerWidth - size / 2) + 'px';
  div.style.top = (Math.random() * innerHeight - size / 2) + 'px';
  document.body.appendChild(div);
}

// Flies appear later
function spawnFly() {
  if (elapsed < 40000) return;
  const fly = document.createElement('div');
  fly.className = 'fly';
  fly.textContent = 'ðŸª°';
  fly.style.left = Math.random() * innerWidth + 'px';
  fly.style.top = Math.random() * innerHeight * 0.8 + 'px';
  fly.style.animationDuration = (2 + Math.random() * 3) + 's';
  document.body.appendChild(fly);
  // Wander
  setInterval(() => {
    fly.style.left = parseFloat(fly.style.left) + (Math.random() - 0.5) * 60 + 'px';
    fly.style.top = parseFloat(fly.style.top) + (Math.random() - 0.5) * 40 + 'px';
  }, 2000);
}

// Glitch the title text
const originalTitle = 'Still Life with Apple';
const glitchChars = 'â–ˆâ–“â–’â–‘â•¬â•«â•ªâ”¼â•³';
function glitchTitle(decay) {
  if (decay < 0.2) return;
  const el = document.getElementById('title');
  let text = originalTitle.split('');
  const chance = (decay - 0.2) * 0.6;
  for (let i = 0; i < text.length; i++) {
    if (Math.random() < chance * 0.3) {
      text[i] = glitchChars[Math.floor(Math.random() * glitchChars.length)];
    }
  }
  el.textContent = text.join('');
  el.style.color = `rgb(${Math.round(42 + decay * 20)},${Math.round(31 - decay * 20)},${Math.round(14 + decay * 10)})`;
}

let moldTimer = 0, flyTimer = 0;

function frame() {
  elapsed = Date.now() - startTime;
  // 60 seconds = full decay
  const decay = Math.min(1, elapsed / 60000);

  ctx.clearRect(0, 0, W, H);

  // Background shift
  const bgR = Math.round(lerp(245, 30, decay));
  const bgG = Math.round(lerp(240, 25, decay));
  const bgB = Math.round(lerp(232, 20, decay));
  document.body.style.background = `rgb(${bgR},${bgG},${bgB})`;

  drawApple(decay);
  glitchTitle(decay);

  // Timer
  const sec = Math.floor(elapsed / 1000);
  const min = Math.floor(sec / 60);
  document.getElementById('timer').textContent =
    `${String(min).padStart(2,'0')}:${String(sec % 60).padStart(2,'0')}`;
  document.getElementById('timer').style.color = decay > 0.5 ? '#555' : '#aaa';

  // Subtitle changes
  const sub = document.getElementById('subtitle');
  if (decay > 0.7) sub.textContent = 'everything decays';
  else if (decay > 0.4) sub.textContent = 'do you smell that?';
  else if (decay > 0.15) sub.textContent = 'it has already begun';

  // Spawn mold periodically
  moldTimer += 16;
  if (moldTimer > 3000 && decay > 0.25) { spawnMold(); moldTimer = 0; }

  // Spawn flies
  flyTimer += 16;
  if (flyTimer > 8000 && decay > 0.6) { spawnFly(); flyTimer = 0; }

  // Footer color
  document.querySelector('.footer .credit').style.color =
    `rgba(${decay > 0.5 ? 200 : 0},${decay > 0.5 ? 200 : 0},${decay > 0.5 ? 200 : 0},0.2)`;

  requestAnimationFrame(frame);
}

frame();
</script>
<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "30f8635114354c3c8f8a4153f46364b0"}'></script><!-- End Cloudflare Web Analytics -->
</body>
</html>
